#!/usr/bin/env ruby

require 'open-uri'
require 'optparse'

def secret_key(source, format)
  valid_options = {
    source: ['random', 'wp'],
    format: ['array', 'define', 'env'],
  }
  errors = []
  errors << "Invalid source option: #{source}" unless valid_options[:source].include?(source)
  errors << "Invalid format option: #{format}" unless valid_options[:format].include?(format)
  raise errors.join(', ') unless errors.empty?

  case source
  when 'random'
    secret_key_from_random(format)
  when 'wp'
    secret_key_from_wp(format)
  end
end

def secret_key_from_random(format)
  case format
  when 'define'
  when 'array'
  when 'env'
  end
end

def secret_key_from_wp(format)
  case format
  when 'define'
  when 'array'
  when 'env'
  end
end

options = ARGV.getopts('', 'source:random', 'format:define')
puts secret_key(options['source'], options['format'])
